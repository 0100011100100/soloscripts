<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pair Roblox Account</title>
</head>
<body>
    <h1>Link Your Roblox Account</h1>
    <input type="text" id="username" placeholder="Enter Roblox Username">
    <button onclick="fetchRobloxProfile()">Pair Account</button>
    <div id="profile"></div>

    <script>
        async function fetchRobloxProfile() {
            const username = document.getElementById("username").value;
            const profileDiv = document.getElementById("profile");

            try {
                // Fetch Roblox ID using RoVer API
                const response = await fetch(`https://verify.eryn.io/api/user/${username}`);
                const data = await response.json();

                if (data.robloxId) {
                    const robloxId = data.robloxId;

                    // Fetch additional Roblox profile data
                    const userInfo = await fetch(`https://users.roblox.com/v1/users/${robloxId}`);
                    const user = await userInfo.json();
                    const avatarInfo = await fetch(`https://thumbnails.roblox.com/v1/users/avatar-headshot?userIds=${robloxId}&size=150x150&format=Png`);
                    const avatar = await avatarInfo.json();

                    // Display the user's profile information
                    profileDiv.innerHTML = `
                        <h2>${user.displayName} (${user.name})</h2>
                        <p>${user.description || "No description available"}</p>
                        <img src="${avatar.data[0].imageUrl}" alt="Avatar">
                    `;
                } else {
                    profileDiv.innerHTML = `<p>User not found</p>`;
                }
            } catch (error) {
                console.error("Error fetching profile:", error);
                profileDiv.innerHTML = `<p>Could not retrieve profile information.</p>`;
            }
        }
    </script>
</body>
</html>
